# Issue: 配布フローの刷新 (Force-Push Deployment)

## 概要
`dev` ブランチでビルドした成果物を、`main` ブランチへ強制上書きデプロイする方式に変更する。
これにより、ソースコードの安全な管理（`dev`）と、クリーンな配布物（`main`）の分離を徹底し、マージによる混乱やソース消失事故を防止する。

## 課題
- `main` ブランチ上でソースを物理削除する現在のフローは、マージ時にソースコード消失やコンフリクトを引き起こすリスクが高い。
- 配布物に開発用ファイルが含まれるのを防ぎつつ、リポジトリの履歴を汚したくない。

## 解決策
1. **ブランチ役割の明確化**:
   - `dev`: 開発の正典（ソースコードあり）。CI のトリガー。
   - `main`: 配布専用（ビルド成果物のみ）。CI の出力先。
2. **CI パイプラインの変更**:
   - トリガー: `dev` へのプッシュ。
   - アクション: `dev` をビルドし、生成された `dist/` と必須ファイルのみを `main` へ Force Push する。

## 実装内容詳細

### GitHub Actions (`.github/workflows/deploy.yml`)
- `on.push.branches` を `dev` に変更。
- `Clean up` ステップで `tools/` や `src/` を削除。
- `Deploy` ステップで `git push origin HEAD:main --force` を実行。

## ゴール
- [ ] `dev` にプッシュすると、自動的に `main` がクリーンな状態で更新される。
- [ ] `main` ブランチにはソースコード（`hooks/scripts` 等）が含まれない。
- [ ] `v1.1.3` タグが `main` ブランチのコミットに対して付与される。
